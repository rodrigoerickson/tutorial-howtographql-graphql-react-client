{"ast":null,"code":"import _classCallCheck from \"/home/cin_rosilva/app/pessoal/github/graphql-react-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/cin_rosilva/app/pessoal/github/graphql-react-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/cin_rosilva/app/pessoal/github/graphql-react-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/cin_rosilva/app/pessoal/github/graphql-react-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/cin_rosilva/app/pessoal/github/graphql-react-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/cin_rosilva/app/pessoal/github/graphql-react-client/src/componentes/Timeline.js\";\nimport React, { Component } from 'react';\nimport FotoItem from './Foto';\nimport { CSSTransitionGroup } from 'react-transition-group';\nimport TimelineApi from '../logicas/TimelineApi';\nimport { connect } from 'react-redux';\n\nvar Timeline =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Timeline, _Component);\n\n  function Timeline(props) {\n    var _this;\n\n    _classCallCheck(this, Timeline);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Timeline).call(this, props));\n    _this.login = _this.props.login;\n    return _this;\n  }\n\n  _createClass(Timeline, [{\n    key: \"carregaFotos\",\n    value: function carregaFotos() {\n      var urlPerfil;\n\n      if (this.login === undefined) {\n        urlPerfil = \"http://localhost:8080/api/fotos?X-AUTH-TOKEN=\".concat(localStorage.getItem('auth-token'));\n      } else {\n        urlPerfil = \"http://localhost:8080/api/public/fotos/\".concat(this.login);\n      }\n\n      this.props.lista(urlPerfil);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.carregaFotos();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.login !== this.login) {\n        this.login = nextProps.login;\n        this.carregaFotos();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"fotos container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(CSSTransitionGroup, {\n        transitionName: \"timeline\",\n        transitionEnterTimeout: 500,\n        transitionLeaveTimeout: 300,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, this.props.fotos.map(function (foto) {\n        return React.createElement(FotoItem, {\n          key: foto.id,\n          foto: foto,\n          comenta: _this2.props.comenta,\n          like: _this2.props.like,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        });\n      })));\n    }\n  }]);\n\n  return Timeline;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    fotos: state.timeline\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    like: function like(fotoId) {\n      dispatch(TimelineApi.like(fotoId));\n    },\n    comenta: function comenta(fotoId, textoComentario) {\n      dispatch(TimelineApi.comenta(fotoId, textoComentario));\n    },\n    lista: function lista(urlPerfil) {\n      dispatch(TimelineApi.lista(urlPerfil));\n    }\n  };\n};\n\nvar TimeLineContainer = connect(mapStateToProps, mapDispatchToProps)(Timeline);\nexport default TimeLineContainer;","map":{"version":3,"sources":["/home/cin_rosilva/app/pessoal/github/graphql-react-client/src/componentes/Timeline.js"],"names":["React","Component","FotoItem","CSSTransitionGroup","TimelineApi","connect","Timeline","props","login","urlPerfil","undefined","localStorage","getItem","lista","carregaFotos","nextProps","fotos","map","foto","id","comenta","like","mapStateToProps","state","timeline","mapDispatchToProps","dispatch","fotoId","textoComentario","TimeLineContainer"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,QAArB;AACA,SAASC,kBAAT,QAAmC,wBAAnC;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,SAAQC,OAAR,QAAsB,aAAtB;;IAEMC,Q;;;;;AAEL,oBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACjB,kFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa,MAAKD,KAAL,CAAWC,KAAxB;AAFiB;AAIjB;;;;mCAEa;AACb,UAAIC,SAAJ;;AACA,UAAG,KAAKD,KAAL,KAAeE,SAAlB,EAA6B;AAC5BD,QAAAA,SAAS,0DAAmDE,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAnD,CAAT;AACA,OAFD,MAEM;AACLH,QAAAA,SAAS,oDAA6C,KAAKD,KAAlD,CAAT;AACA;;AACD,WAAKD,KAAL,CAAWM,KAAX,CAAiBJ,SAAjB;AAEA;;;wCAEkB;AAClB,WAAKK,YAAL;AACA;;;8CAEyBC,S,EAAU;AACnC,UAAGA,SAAS,CAACP,KAAV,KAAoB,KAAKA,KAA5B,EAAkC;AACjC,aAAKA,KAAL,GAAaO,SAAS,CAACP,KAAvB;AACA,aAAKM,YAAL;AACA;AACD;;;6BAEO;AAAA;;AACP,aACC;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,kBAAD;AACC,QAAA,cAAc,EAAC,UADhB;AAEC,QAAA,sBAAsB,EAAE,GAFzB;AAGC,QAAA,sBAAsB,EAAE,GAHzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE,KAAKP,KAAL,CAAWS,KAAX,CAAiBC,GAAjB,CAAqB,UAAAC,IAAI;AAAA,eAAI,oBAAC,QAAD;AAC5B,UAAA,GAAG,EAAEA,IAAI,CAACC,EADkB;AAE5B,UAAA,IAAI,EAAED,IAFsB;AAG5B,UAAA,OAAO,EAAE,MAAI,CAACX,KAAL,CAAWa,OAHQ;AAI5B,UAAA,IAAI,EAAE,MAAI,CAACb,KAAL,CAAWc,IAJW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAJ;AAAA,OAAzB,CALF,CADD,CADD;AAgBA;;;;EA/CqBpB,S;;AAiDvB,IAAMqB,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAChC,SAAO;AAACP,IAAAA,KAAK,EAAEO,KAAK,CAACC;AAAd,GAAP;AACA,CAFD;;AAGA,IAAMC,kBAAkB,GAAI,SAAtBA,kBAAsB,CAAAC,QAAQ,EAAI;AACvC,SAAO;AACNL,IAAAA,IAAI,EAAE,cAACM,MAAD,EAAY;AACjBD,MAAAA,QAAQ,CAACtB,WAAW,CAACiB,IAAZ,CAAiBM,MAAjB,CAAD,CAAR;AACA,KAHK;AAINP,IAAAA,OAAO,EAAE,iBAACO,MAAD,EAASC,eAAT,EAA6B;AACrCF,MAAAA,QAAQ,CAACtB,WAAW,CAACgB,OAAZ,CAAoBO,MAApB,EAA4BC,eAA5B,CAAD,CAAR;AACA,KANK;AAONf,IAAAA,KAAK,EAAE,eAACJ,SAAD,EAAe;AACrBiB,MAAAA,QAAQ,CAACtB,WAAW,CAACS,KAAZ,CAAkBJ,SAAlB,CAAD,CAAR;AACA;AATK,GAAP;AAWA,CAZD;;AAaA,IAAMoB,iBAAiB,GAAGxB,OAAO,CAACiB,eAAD,EAAkBG,kBAAlB,CAAP,CAA6CnB,QAA7C,CAA1B;AACA,eAAeuB,iBAAf","sourcesContent":["import React, { Component } from 'react';\nimport FotoItem from './Foto';\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport TimelineApi from '../logicas/TimelineApi'\nimport {connect} from 'react-redux';\n\nclass Timeline extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.login = this.props.login;\n\t\t\n\t}\n\n\tcarregaFotos(){\n\t\tlet urlPerfil;\n\t\tif(this.login === undefined) {\n\t\t\turlPerfil = `http://localhost:8080/api/fotos?X-AUTH-TOKEN=${localStorage.getItem('auth-token')}`;\n\t\t}else {\n\t\t\turlPerfil = `http://localhost:8080/api/public/fotos/${this.login}`;\n\t\t}\n\t\tthis.props.lista(urlPerfil);\n\t\t\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.carregaFotos();\n\t}\n\n\tcomponentWillReceiveProps(nextProps){\n\t\tif(nextProps.login !== this.login){\n\t\t\tthis.login = nextProps.login;\n\t\t\tthis.carregaFotos();\n\t\t}\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<div className=\"fotos container\">\n\t\t\t\t<CSSTransitionGroup\n\t\t\t\t\ttransitionName=\"timeline\"\n\t\t\t\t\ttransitionEnterTimeout={500}\n\t\t\t\t\ttransitionLeaveTimeout={300}>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.fotos.map(foto => <FotoItem \n\t\t\t\t\t\t\tkey={foto.id} \n\t\t\t\t\t\t\tfoto={foto} \n\t\t\t\t\t\t\tcomenta={this.props.comenta} \n\t\t\t\t\t\t\tlike={this.props.like}/>)\n\t\t\t\t\t}\n\t\t\t\t</CSSTransitionGroup>\n\t\t\t</div>            \n\t\t);\n\t}\n}\nconst mapStateToProps = state => {\n\treturn {fotos: state.timeline}\n};\nconst mapDispatchToProps =  dispatch => {\n\treturn {\n\t\tlike: (fotoId) => {\n\t\t\tdispatch(TimelineApi.like(fotoId));\n\t\t},\n\t\tcomenta: (fotoId, textoComentario) => {\n\t\t\tdispatch(TimelineApi.comenta(fotoId, textoComentario));\n\t\t},\n\t\tlista: (urlPerfil) => {\n\t\t\tdispatch(TimelineApi.lista(urlPerfil));\n\t\t}\n\t}\n}\nconst TimeLineContainer = connect(mapStateToProps, mapDispatchToProps)(Timeline);\nexport default TimeLineContainer"]},"metadata":{},"sourceType":"module"}